
# 端口

端口是设备与外界通讯交流的出入口。端口分为：物理端口和虚拟端口两类。

- 物理端口：又可称为接口，可见的，如USB接口，RJ45网口，HDMI接口等。

- 虚拟端口：计算机内部的端口，不可见的，是操作系统用来和外部进行交互的。

# 为什么需要虚拟端口

两台计算机进行通讯，可以通过IP地址查找另一台计算机。

计算机A和计算机B各自运行着不同的程序。

如果计算机A的某个程序想要访问计算机B的某个程序，仅通过IP地址，就不太精确。

因为IP地址代表一台电脑，但是锁定不了电脑中的某个具体程序。

但是通过端口(虚拟)就可以锁定计算机上的具体程序，确保程序间进行沟通。

通俗的说：

- IP地址相当于小区(电脑)，小区内有许多住户(程序)，门牌号(端口)就是各个住户(程序)的联系地址。

# Linux系统的端口(虚拟)

Linux系统有65535个端口，分为3类使用：

**1、系统/公认端口**

- 0~1023端口。这些端口通常用于操作系统或知名服务（如HTTP的443端口、SSH的22端口）。若无非特殊需要，不要占用这个端口。

- FinalShell连接Linux主机走的就是SSH的22端口。

**2、注册端口**

- 1024~49151端口。通常可以随意使用，一般用于用户应用程序和服务。

**3、动态/私有端口**

- 49152~65535端口。通常不会绑定程序，而是当程序对外进行网络链接时临时使用。

# `nmap` 命令查看端口占用

首先安装 `nmap` ：

```bash
yum -y install nmap
```

`nmap` 语法：

```bash
nmap 要查看的IP地址
```

# `netstat` 查看指定端口的占用

安装 `netstat` ：

```bash
yum -y install net-tools
```

用法：

```bash
netstat -anp | grep 6000
```

配合管道符和 `grep` 过滤，否则 `netstat -anp` 输出的内容太多。

**例如**：0.0.0.0:6000表示6000端口绑定在IP地址0.0.0.0，表示允许外部访问。

若输出内容为空，则表示此端口无人使用。

